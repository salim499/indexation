{"version":3,"sources":["logo.svg","WordCloud.js","Result.js","FireStore.js","getDataFromApi.js","App.js","reportWebVitals.js","index.js"],"names":["options","rotations","rotationAngles","App","props","words","paginationNumber","e","limit","target","dataset","setFileWords2","FileWords","slice","showWordCloudF","a","val","FileWords2","find","el","file","showWordCloud","nuage","background","b","forEach","push","numberVisitF","firebase","firestore","collection","doc","get","then","d","update","nbrVisites","data","useRef","useState","setFileWords","dataG","useEffect","properties","files","Data","element","includes","length","id","prop","tab","f","text","value","parseFloat","weight","word","compt","i","console","log","Fragment","map","key","className","style","data-val","onClick","href","rel","name","starCount","ref","data-val2","WordCloud","table","count","splitTable","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","axios","response","title","add","res","set","description","descriptions","keywords","catch","err","object","head","key2","body","inputRef","setData","Mode","setMode","setModeF","mode","GetData","data-mode","src","logo","alt","type","current","split","filter","firstPartR","substr","secondPartR","firstPartW","secondPartW","charAt","Math","abs","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f0a066cb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","\r\nimport React from \"react\";\r\n\r\nimport ReactWordcloud from \"react-wordcloud\";\r\n\r\n/*import \"tippy.js/dist/tippy.css\";\r\nimport \"tippy.js/animations/scale.css\";*/\r\n\r\n\r\n\r\n  const options = {\r\n    rotations: 0,\r\n    rotationAngles: [-10, 0],\r\n  };\r\n   \r\n  function App(props) {\r\n    return (\r\n      <ReactWordcloud \r\n        options={options}\r\n        words={props.words}\r\n      />\r\n    );\r\n  }\r\nexport default App;\r\n\r\n","import React from 'react'\r\nimport {useState, useEffect, useRef} from 'react'\r\nimport WordCloud from './WordCloud'\r\nimport StarRatingComponent from \"react-star-rating-component\";\r\nimport './Result.css'\r\nimport firebase from 'firebase'\r\n\r\nfunction App(props){\r\n\r\n  function splitTable(table){\r\n    let compt=[]\r\n    let count=0\r\n    for(let i=0;i<table.length;i=i+5){\r\n      count++\r\n      compt.push(count)\r\n    }\r\n\r\n      return compt\r\n  }\r\n  function paginationNumber(e){\r\n    let limit=e.target.dataset[\"val\"]*5\r\n    setFileWords2(FileWords.slice(limit-5,limit))\r\n }\r\n\r\n    function showWordCloudF(e){\r\n           let a=e.target.dataset.val\r\n           if(FileWords2.find(el=>el.file===a).showWordCloud===false){\r\n            FileWords2.find(el=>el.file===a).showWordCloud=true\r\n            FileWords2.find(el=>el.file===a).nuage=\"Fermer-\" \r\n            FileWords2.find(el=>el.file===a).background=\"#ffffff\" \r\n           }else{\r\n            FileWords2.find(el=>el.file===a).showWordCloud=false      \r\n            FileWords2.find(el=>el.file===a).nuage=\"Nuage+\" \r\n            FileWords2.find(el=>el.file===a).background=\"none\"     \r\n           }\r\n           let b=[]\r\n           FileWords2.forEach(e=>{\r\n              b.push(e)\r\n           })\r\n            setFileWords2(b)\r\n    }\r\n    function numberVisitF(e){\r\n      let f= firebase\r\n             .firestore()\r\n             .collection(\"Props\")\r\n             .doc(e.target.dataset.val)\r\n             .get()\r\n             .then(d=>{\r\n              firebase\r\n              .firestore()\r\n              .collection(\"Props\")\r\n              .doc(e.target.dataset.val)\r\n              .update({ nbrVisites: d.data().nbrVisites+1}); \r\n             })\r\n\r\n    }\r\n\r\n    const nbrVisites=useRef(null) \r\n    let [FileWords2, setFileWords2]=useState([])\r\n    const [FileWords, setFileWords]=useState([])\r\n    let dataG=[]\r\n    useEffect(()=>{\r\n      let properties=[]\r\n    //get all files \r\n    setFileWords(null)\r\n      let files=[]\r\n     props.Data.forEach(element => {\r\n       if(files.includes(element.data.file)===false){\r\n          files.push(element.data.file)\r\n       }  \r\n     });\r\n     if(files.length===0){\r\n       setFileWords2([])\r\n       setFileWords([])\r\n     }\r\n     // let dataG=[]\r\n     files.forEach(file=>{\r\n      firebase.firestore().collection(\"Props\")\r\n      .doc(file)\r\n      .get()\r\n      .then(d=>(properties.push({id:d.id,prop:d.data()})))\r\n      let tab=[]\r\n       firebase.firestore().collection(\"WordsWeights\")\r\n       .get()\r\n       .then((data)=>{\r\n         data.forEach(e=>{\r\n           if(e.data().file===file){\r\n             let f=tab.find(el=>el.text===e.data().text)\r\n             if(!f){\r\n              tab.push({text:e.data().text, value:parseFloat(e.data().weight)})\r\n             }\r\n             else{\r\n               f.value=parseFloat(f.value)+parseFloat(e.data().weight)\r\n             }\r\n           }\r\n         })\r\n       })\r\n       dataG.push({\r\n         file:file,\r\n         word:tab,\r\n         showWordCloud:false,\r\n         nuage:\"Nuage +\",\r\n         background:\"none\"\r\n        })\r\n     })\r\n    /* dataG.forEach(element=>{\r\n       let f=properties.find(e=>element.file===e.id)\r\n       if(f){\r\n        element['prop']=f.prop\r\n       }\r\n     })*/\r\n     dataG.forEach(e=>{\r\n      firebase.firestore().collection(\"Props\")\r\n      .doc(e.file)\r\n      .get()\r\n      .then(d=>e.prop=d.data())\r\n      .then(()=>{\r\n      let compt=1\r\n      let tab=[]\r\n      for(let i=0;i<dataG.length;i=i+5){\r\n        tab.push(compt)\r\n        compt++\r\n      }\r\n      setFileWords(dataG)\r\n      setFileWords2(dataG.slice(0,5))\r\n      console.log(\"ddddddddddddddddddddddddddddd\")\r\n      })   \r\n    })\r\n\r\n\r\n    },[props])\r\n\r\n\r\n    return(\r\n    <React.Fragment>\r\n     {FileWords2 && FileWords2!==null?FileWords2.map((val,key)=>(\r\n         val.prop?\r\n        <div className=\"global\">\r\n          <div className=\"firstPart\" style={{background:\"white\"}}>\r\n          <h2>xlv,f,xxvxv<button className=\"myButton\" data-val={val.file} onClick={showWordCloudF}>{val.nuage}</button></h2>\r\n          <a\r\n          onClick={numberVisitF}\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n         <h2  data-val={val.file}>\r\n          {\r\n           (val.prop['title'])?(val.prop['title']):\r\n           (val.prop['description'])?(val.prop['description']):\r\n           (val.prop['keywords'])?(val.prop['keywords']):null      \r\n          }\r\n          </h2>\r\n         </a>\r\n          <p>\r\n          {\r\n           (val.prop['description'])?(val.prop['description']):\r\n           (val.prop['keywords'])?(val.prop['keywords']):null \r\n          }           \r\n          </p>\r\n          <p>\r\n          {\r\n          (val.prop['keywords'])?(val.prop['keywords']):\r\n          (val.prop['description'])?(val.prop['description']):null   \r\n          }           \r\n          </p>\r\n          <StarRatingComponent\r\n                             name=\"rate1\"\r\n                             starCount={5}\r\n                             value={val.prop.nbrVisites}\r\n                           />\r\n             <p ref={nbrVisites} data-val2={val.prop.nbrVisites}>nombres de visites : {val.prop.nbrVisites}</p>\r\n          </div>\r\n         {\r\n             val.showWordCloud?\r\n             <div className=\"secondPart\">\r\n             <div className=\"WordCloud\" style={{background:\"#000000\"}}>\r\n              <WordCloud words={val.word}></WordCloud>\r\n             </div>\r\n             </div>\r\n             :\r\n             null\r\n         }\r\n      </div>      \r\n      :null)):null}\r\n        <div className=\"Footer\">\r\n        {FileWords?splitTable(FileWords).map((val,key)=>(\r\n        <p>\r\n         <a onClick={paginationNumber}\r\n         data-val={val}\r\n         className=\"App-link\"\r\n         href=\"#\"\r\n         rel=\"noopener noreferrer\"\r\n       >\r\n       {val}\r\n       </a>\r\n       &ensp;\r\n       &nbsp;\r\n       </p> \r\n        )):null}\r\n        </div>\r\n    </React.Fragment>\r\n \r\n    )\r\n}\r\nexport default App","import firebase from 'firebase'\r\nimport 'firebase/firestore'\r\n\r\n  // Your web app's Firebase configuration\r\n  // For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyBRdMF8d3X2Mrw1No9orSK1Q-Qjr32MIUI\",\r\n    authDomain: \"indexation3-c7320.firebaseapp.com\",\r\n    projectId: \"indexation3-c7320\",\r\n    storageBucket: \"indexation3-c7320.appspot.com\",\r\n    messagingSenderId: \"942215022981\",\r\n    appId: \"1:942215022981:web:0ebb6a21d24beadaf8dcec\",\r\n    measurementId: \"G-4LBYCBS3K9\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n  firebase.analytics();\r\n\r\n\r\n  export default firebase\r\n\r\n/*\r\nimport firebase from 'firebase'\r\nimport 'firebase/firestore'\r\n\r\n  // Your web app's Firebase configuration\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyCzMXpmYz7I-593i69Y9pX38hTfxg48tLk\",\r\n    authDomain: \"indexation2-35fd2.firebaseapp.com\",\r\n    projectId: \"indexation2-35fd2\",\r\n    storageBucket: \"indexation2-35fd2.appspot.com\",\r\n    messagingSenderId: \"740566763997\",\r\n    appId: \"1:740566763997:web:e44070b10ca6d1af678e34\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n\r\n  export default firebase\r\n*/","import axios from 'axios';\r\nimport firebase from \"./FireStore\";\r\n\r\nconst endPoint=\"http://localhost/indexation_second_version/\"\r\nfunction App() {\r\n /* const ref = firebase.firestore().collection(\"Props\")\r\n  ref.onSnapshot((snapshot) => {\r\n    snapshot.docs.forEach((doc) => {\r\n      ref.doc(doc.id).delete()\r\n    })\r\n  })\r\n  const ref2 = firebase.firestore().collection(\"Files\")\r\n  ref2.onSnapshot((snapshot) => {\r\n    snapshot.docs.forEach((doc) => {\r\n      ref2.doc(doc.id).delete()\r\n    })\r\n  })\r\n  const ref3 = firebase.firestore().collection(\"WordsWeights\")\r\n  ref3.onSnapshot((snapshot) => {\r\n    snapshot.docs.forEach((doc) => {\r\n      ref3.doc(doc.id).delete()\r\n    })\r\n  })\r\n  */\r\n    axios.get(endPoint)\r\n    .then(response=>{\r\n      response.data.forEach(file => {\r\n        console.log(file.title)\r\n        // post path of file to bdd\r\n        firebase.firestore().collection(\"Files\")\r\n        .add({file:file.file})\r\n        // if post to bdd succed \r\n        .then(res=>{\r\n        // add props of each file\r\n        firebase.firestore().collection(\"Props\") \r\n        .doc(res.id)\r\n        .set ({title:file.title,description:file.descriptions,keywords:file.keywords, nbrVisites:0})\r\n        .then(e=>console.log(e))\r\n        .catch(err=>console.log(err))\r\n        // end of ading porops of each file \r\n        // concat words of body and head\r\n        const object={}\r\n        for (const key in file.head){\r\n          object[key]=file.head[key]\r\n        }\r\n        for (const key2 in file.body){\r\n          if(object[key2]>0){\r\n            console.log(key2+\" => \"+object[key2])\r\n            object[key2]=object[key2]+file.body[key2]\r\n          }else{\r\n            object[key2]=file.body[key2]\r\n          }\r\n        }  \r\n        ////////////////////////// \r\n        // post wods with her weight to bdd\r\n        for (const key in object){\r\n          firebase.firestore().collection(\"WordsWeights\")\r\n          .add({text:key, weight:object[key], file:res.id})\r\n          .then(res=>console.log((\"le mot avec le poid sont ajoutés avec succès\")))\r\n          .catch(err=>console.log(\"erreur dans le post des mots et leur poids sur la bdd\"))\r\n        }\r\n        })\r\n        //////////////////////////\r\n        // if post fail \r\n        .catch(err=>console.log(\"erreur dans la demande pour ajouter les fichier dans la base de données\"))\r\n        //fin ajout fichier to bdd\r\n      });      \r\n    })\r\n    .catch(err=>{\r\n      console.log(\"erreur dans la demande au serveur de l'indexation\")\r\n    })\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\nimport {useState,  useEffect, useRef } from 'react'\nimport logo from './logo.svg';\nimport './Searchbar.css'\nimport './App.css'\nimport Rs from './Result.js'\nimport firebase from './FireStore'\nimport GetData from './getDataFromApi'\n\n\n\nfunction App() {\n  const inputRef=useRef(null)\n  const [Data, setData]=useState([])\n  const [Mode, setMode]=useState(\"Mode1\")\n\n   function lancerIndexation(){\n    GetData()\n   }\n  function setModeF(e){\n     setMode(e.target.dataset.mode)\n  }\n\n  function submitRequestF(){\n    setData([])\n    let splitRequest=inputRef.current.value.split(\" \")\n    let words=splitRequest.filter(word=>word.length>0)\n\n    words.forEach(word=>{\n      // get the first part of word request\n      let firstPartR = word.substr(0, word.length / 2)  \n      // get the second part of word request\n      let secondPartR = word.substr(word.length / 2, word.length)\n      firebase.firestore().collection(\"WordsWeights\")\n      .get()\n      .then((data)=>{\n\n      data.forEach(e=>{\n      // get the first part of word bdd\n      let firstPartW = e.data().text.substr(0, e.data().text.length / 2)  \n      // get the second part of word bdd\n      let secondPartW = e.data().text.substr(e.data().text.length / 2, e.data().text.length)\n\n      ///////// Mode1\n      if(Mode===\"Mode1\"){\n        let count=0\n        for (let i = 0; i < firstPartR.length; i++) {\n          if(firstPartW.includes(firstPartR.charAt(i))){\n          count=count+1\n          }\n        }\n        for (let i = 0; i < secondPartR.length; i++) {\n          if(secondPartW.includes(secondPartR.charAt(i))){\n            count=count+1\n          }\n        }\n        if(word.length-count<1){      \n          //result.push({id:e.id,data:e.data()})\n          setData(Data => [...Data, {id:e.id,data:e.data()}]);\n        }\n      }\n      ////////// Mode 2\n      else if(Mode===\"Mode2\"){\n          if(\n            firstPartW.includes(firstPartR)||\n            secondPartW.includes(secondPartR)||\n            secondPartR.includes(secondPartW)||\n            firstPartR.includes(firstPartW)\n            ){\n              setData(Data => [...Data, {id:e.id,data:e.data()}]);\n            }  \n      }\n      ////////// Mode 3\n      else if(Mode===\"Mode3\"){\n          let count=0\n          for (let i = 0; i < word.length; i++) {\n            if(e.data().text.includes(word.charAt(i))){\n            count=count+1\n            }\n          }   \n          if(Math.abs(word.length-count)<1){      \n            //result.push({id:e.id,data:e.data()})\n            setData(Data => [...Data, {id:e.id,data:e.data()}]);\n          }      \n      }\n    }) \n  })\n})\n}\n\n\n  return(\n    <div className=\"App\">\n      <header className=\"App-header\">\n      <React.Fragment>\n      <nav>\n        <ul id=\"nav_bar\">\n          <li id=\"sign_in\" className=\"nav-links\"><a onClick={lancerIndexation} href=\"#\">Lancer indexation</a></li>       \n          <li id=\"sign_in\" className=\"nav-links\"><a onClick={setModeF} data-mode=\"Mode3\" href=\"#\">Mode3</a></li>\n          <li id=\"sign_in\" className=\"nav-links\"><a onClick={setModeF} data-mode=\"Mode2\" href=\"#\">Mode2</a></li>\n          <li id=\"sign_in\" className=\"nav-links\"><a onClick={setModeF} data-mode=\"Mode1\" href=\"#\">Mode1</a></li>\n        </ul>  \n      </nav>  \n        <div className=\"logo\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <img alt=\"Google\" src=\"https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png\"></img>\n        </div>\n        <div className=\"bar\">\n          <input className=\"searchbar\" type=\"text\" title=\"Search\" ref={inputRef}></input>\n        </div>\n        <div className=\"buttons\">\n          <button className=\"button\"  onClick={submitRequestF}>Recherche</button>\n         </div>\n    </React.Fragment>\n    </header>\n        <div className=\"results\">\n        <Rs Data={Data}></Rs>\n      </div>\n\n    </div>\n  ) \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}